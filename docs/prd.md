# PRD: 블로그 체험단 리뷰 시스템

## 1. 제품 개요

### 1.1 목적
본 제품은 **광고주**와 **인플루언서**를 연결하는 체험단 매칭 플랫폼입니다. 광고주는 자사 제품/서비스를 홍보할 체험단을 모집하고, 인플루언서는 다양한 체험단에 지원하여 콘텐츠를 제작할 수 있는 기회를 얻습니다.

### 1.2 핵심 가치
- **광고주**: 효율적인 체험단 모집 및 관리, 적합한 인플루언서 선정
- **인플루언서**: 간편한 체험단 탐색 및 지원, 투명한 선정 프로세스
- **플랫폼**: 신뢰할 수 있는 매칭 생태계 구축

### 1.3 기술 스택
- **Frontend**: Next.js (App Router), React, TypeScript, Tailwind CSS, shadcn-ui
- **Backend**: Hono + Next.js Route Handler
- **Database**: Supabase (PostgreSQL)
- **Authentication**: Supabase Auth (Email 기반)
- **State Management**: Zustand, React Query

---

## 2. Stakeholders

### 2.1 광고주 (Advertiser)
- **역할**: 체험단 등록 및 관리, 인플루언서 선정
- **목표**: 효과적인 마케팅 캠페인 운영, 브랜드 인지도 향상
- **Pain Point**: 적합한 인플루언서 찾기 어려움, 수동 관리 부담

### 2.2 인플루언서 (Influencer)
- **역할**: 체험단 탐색 및 지원, 콘텐츠 제작
- **목표**: 다양한 체험 기회 확보, 채널 성장
- **Pain Point**: 체험단 정보 분산, 지원 과정 복잡

### 2.3 플랫폼 운영자
- **역할**: 시스템 관리, 사용자 지원, 정책 수립
- **목표**: 플랫폼 신뢰도 유지, 사용자 만족도 향상

---

## 3. 포함 페이지

### 3.1 공통 페이지

#### 3.1.1 홈 (/)
- **목적**: 모집 중인 체험단 탐색
- **주요 기능**:
  - 체험단 리스트 카드 뷰 (썸네일, 제목, 모집 인원, 마감일)
  - 기본 정렬: 최신순
  - 필터: 카테고리, 지역, 모집 상태
  - 로그인 유무에 관계없이 접근 가능
- **CTA**: 체험단 카드 클릭 → 상세 페이지 이동

#### 3.1.2 로그인 (/login)
- **목적**: 사용자 인증
- **주요 기능**:
  - 이메일/비밀번호 입력
  - Supabase Auth 연동
  - "회원가입" 링크
- **리다이렉션**: 로그인 성공 시 홈으로 이동

#### 3.1.3 회원가입 (/signup)
- **목적**: 신규 사용자 등록
- **주요 기능**:
  - Step 1: 이메일/비밀번호 입력 (Supabase Auth)
  - Step 2: 역할 선택 (광고주 / 인플루언서)
  - Step 3: 역할별 정보 입력 페이지로 리다이렉션

#### 3.1.4 체험단 상세 (/campaigns/:id)
- **목적**: 체험단 상세 정보 확인
- **주요 기능**:
  - 체험단 정보 표시:
    - 제목, 설명, 제공 혜택
    - 모집 인원, 모집 기간
    - 매장 정보 (업체명, 주소, 연락처)
    - 미션 (요구사항)
  - **CTA**:
    - 비로그인: "로그인 후 지원하기"
    - 인플루언서 정보 미등록: "프로필 등록 후 지원하기"
    - 인플루언서 정보 등록 완료: "지원하기" 버튼 활성화

---

### 3.2 인플루언서 전용 페이지

#### 3.2.1 인플루언서 정보 등록 (/onboarding/influencer)
- **목적**: 인플루언서 프로필 생성
- **주요 기능**:
  - **공통 정보**: 이름, 생년월일, 휴대폰번호
  - **인플루언서 정보**:
    - SNS 채널명
    - 채널 링크 (Naver Blog, YouTube, Instagram, Threads 등)
    - 팔로워 수
  - 제출 시 `influencers` 테이블에 데이터 저장
- **접근 권한**: 회원가입 후 인플루언서 역할 선택 시

#### 3.2.2 체험단 지원 (/campaigns/:id/apply)
- **목적**: 체험단 신청서 작성
- **주요 기능**:
  - 각오 한마디 (Textarea)
  - 방문 예정일자 (Date Picker)
  - 제출 시 `applications` 테이블에 데이터 저장
  - 상태: `신청완료`
- **접근 권한**: 인플루언서 정보 등록 완료자만

#### 3.2.3 내 지원 목록 (/my/applications)
- **목적**: 지원 현황 확인
- **주요 기능**:
  - 지원한 체험단 리스트 (테이블 뷰)
  - 컬럼: 체험단명, 지원일, 상태, 방문 예정일
  - 상태 필터: 신청완료, 선정, 반려
  - 상태별 뱃지 표시
- **접근 권한**: 인플루언서만

---

### 3.3 광고주 전용 페이지

#### 3.3.1 광고주 정보 등록 (/onboarding/advertiser)
- **목적**: 광고주 프로필 생성
- **주요 기능**:
  - **공통 정보**: 이름, 생년월일, 휴대폰번호
  - **광고주 정보**:
    - 업체명
    - 주소 (도로명 주소 API 연동 권장)
    - 업장 전화번호
    - 사업자등록번호
    - 대표자명
  - 제출 시 `advertisers` 테이블에 데이터 저장
- **접근 권한**: 회원가입 후 광고주 역할 선택 시

#### 3.3.2 체험단 관리 대시보드 (/dashboard)
- **목적**: 내가 등록한 체험단 관리
- **주요 기능**:
  - 체험단 리스트 (카드 또는 테이블 뷰)
    - 컬럼: 체험단명, 모집 상태, 신청자 수, 모집 인원, 생성일
  - **"신규 체험단 등록"** 버튼 → Dialog Form 오픈
    - 필수 입력 항목:
      - 체험단명
      - 설명
      - 모집 시작일/종료일
      - 모집 인원
      - 제공 혜택
      - 미션 (요구사항)
      - 매장 정보 (업체명, 주소, 연락처)
      - 카테고리
    - 제출 시 `campaigns` 테이블에 데이터 저장
    - 상태: `모집중`
- **접근 권한**: 광고주 정보 등록 완료자만

#### 3.3.3 광고주용 체험단 상세 (/dashboard/campaigns/:id)
- **목적**: 체험단 신청자 관리 및 선정
- **주요 기능**:
  - 체험단 정보 표시 (읽기 전용)
  - 신청자 리스트 (Table)
    - 컬럼: 이름, SNS 채널명, 팔로워 수, 각오 한마디, 방문 예정일, 지원일
    - 정렬: 지원일 최신순
  - **모집 중** 상태:
    - "모집 조기 종료" 버튼 노출
    - 클릭 시 상태를 `모집종료`로 변경
  - **모집 종료** 상태:
    - "체험단 선정" 버튼 노출
    - 클릭 시 Dialog 오픈:
      - 신청자 리스트 (Checkbox)
      - 선정 인원 선택 (최대 모집 인원만큼)
      - 제출 시:
        - 선정된 신청자의 `applications.status` → `선정`
        - 미선정자는 `반려`
        - 체험단 상태 → `선정완료`
- **접근 권한**: 광고주 본인이 등록한 체험단만

---

## 4. 사용자 여정 (User Journey)

### 4.1 인플루언서 여정

```
[회원가입]
  ↓ 이메일/비밀번호 입력
[역할 선택: 인플루언서]
  ↓
[인플루언서 정보 등록]
  ↓ 이름, 생년월일, 휴대폰번호, SNS 채널명, 채널 링크, 팔로워 수 입력
[홈 페이지]
  ↓ 체험단 탐색
[체험단 상세 페이지]
  ↓ 모집 조건 확인
[체험단 지원 페이지]
  ↓ 각오 한마디, 방문 예정일 입력 후 제출
[내 지원 목록]
  ↓ 지원 현황 확인 (신청완료 → 선정/반려)
```

**주요 터치포인트**:
- 홈 (/) → 체험단 상세 (/campaigns/:id) → 지원 (/campaigns/:id/apply) → 내 지원 목록 (/my/applications)

---

### 4.2 광고주 여정

```
[회원가입]
  ↓ 이메일/비밀번호 입력
[역할 선택: 광고주]
  ↓
[광고주 정보 등록]
  ↓ 이름, 생년월일, 휴대폰번호, 업체명, 주소, 전화번호, 사업자등록번호, 대표자명 입력
[체험단 관리 대시보드]
  ↓ "신규 체험단 등록" 클릭
[신규 체험단 등록 Dialog]
  ↓ 체험단명, 설명, 모집 기간, 모집 인원, 혜택, 미션 등 입력 후 제출
[체험단 관리 대시보드]
  ↓ 등록한 체험단 확인
[광고주용 체험단 상세]
  ↓ 신청자 리스트 확인
[모집 조기 종료] (선택사항)
  ↓ "모집 조기 종료" 버튼 클릭
[체험단 선정]
  ↓ "체험단 선정" 버튼 클릭 → 선정 인원 선택 → 제출
[선정 완료]
```

**주요 터치포인트**:
- 대시보드 (/dashboard) → 신규 등록 (Dialog) → 광고주용 상세 (/dashboard/campaigns/:id) → 선정 프로세스

---

## 5. IA (Information Architecture)

```
Root (/)
│
├─ 공통
│  ├─ / (홈 - 체험단 탐색)
│  ├─ /login (로그인)
│  ├─ /signup (회원가입)
│  ├─ /campaigns/:id (체험단 상세)
│  └─ /campaigns/:id/apply (체험단 지원) [인플루언서 전용]
│
├─ 인플루언서
│  ├─ /onboarding/influencer (인플루언서 정보 등록)
│  └─ /my/applications (내 지원 목록)
│
└─ 광고주
   ├─ /onboarding/advertiser (광고주 정보 등록)
   ├─ /dashboard (체험단 관리 대시보드)
   └─ /dashboard/campaigns/:id (광고주용 체험단 상세)
```

### 5.1 IA 시각화 (Tree 형태)

```
vibe-blog-review-system
│
├─ 🏠 Home (/)
│   └─ 체험단 리스트 카드 뷰
│
├─ 🔐 Auth
│   ├─ /login (로그인)
│   └─ /signup (회원가입)
│       ├─ Step 1: 이메일/비밀번호
│       ├─ Step 2: 역할 선택 (광고주/인플루언서)
│       └─ Step 3: 역할별 정보 입력
│
├─ 📋 Campaign
│   ├─ /campaigns/:id (상세)
│   │   ├─ [공통] 체험단 정보 확인
│   │   ├─ [인플루언서] 지원하기 버튼
│   │   └─ [광고주] 신청자 관리
│   │
│   └─ /campaigns/:id/apply (지원) [인플루언서 전용]
│
├─ 👤 Influencer
│   ├─ /onboarding/influencer (정보 등록)
│   └─ /my/applications (내 지원 목록)
│
└─ 🏢 Advertiser
    ├─ /onboarding/advertiser (정보 등록)
    ├─ /dashboard (대시보드)
    │   ├─ 체험단 리스트
    │   └─ 신규 체험단 등록 (Dialog)
    │
    └─ /dashboard/campaigns/:id (상세)
        ├─ 신청자 리스트
        ├─ 모집 조기 종료
        └─ 체험단 선정
```

---

## 6. 기능 요구사항

### 6.1 인증 및 권한

| 기능 | 설명 | 우선순위 |
|------|------|---------|
| 이메일 회원가입 | Supabase Auth를 통한 이메일/비밀번호 기반 회원가입 | P0 |
| 이메일 로그인 | Supabase Auth를 통한 로그인 | P0 |
| 역할 기반 접근 제어 | 인플루언서/광고주 역할에 따른 페이지 접근 제한 | P0 |
| 프로필 등록 여부 검증 | 인플루언서/광고주 정보 등록 완료 여부에 따른 기능 제한 | P0 |
| 세션 관리 | Supabase SSR을 통한 서버/클라이언트 세션 동기화 | P0 |

### 6.2 체험단 관리

| 기능 | 설명 | 우선순위 |
|------|------|---------|
| 체험단 등록 | 광고주가 신규 체험단을 등록 | P0 |
| 체험단 리스트 조회 | 홈 페이지에서 모집 중인 체험단 확인 | P0 |
| 체험단 상세 조회 | 체험단 상세 정보 확인 | P0 |
| 모집 조기 종료 | 광고주가 모집을 조기 종료 | P0 |
| 모집 상태 관리 | 모집중, 모집종료, 선정완료 상태 전환 | P0 |
| 체험단 수정 | 광고주가 체험단 정보 수정 | P1 |
| 체험단 삭제 | 광고주가 체험단 삭제 | P1 |

### 6.3 지원 관리

| 기능 | 설명 | 우선순위 |
|------|------|---------|
| 체험단 지원 | 인플루언서가 체험단에 지원 | P0 |
| 중복 지원 방지 | 동일 체험단에 중복 지원 불가 | P0 |
| 내 지원 목록 조회 | 인플루언서가 지원한 체험단 리스트 확인 | P0 |
| 지원 상태 필터링 | 신청완료, 선정, 반려 필터 | P1 |
| 지원 취소 | 선정 전 지원 취소 기능 | P2 |

### 6.4 인플루언서 선정

| 기능 | 설명 | 우선순위 |
|------|------|---------|
| 신청자 리스트 조회 | 광고주가 체험단 신청자 확인 | P0 |
| 인플루언서 선정 | 광고주가 신청자 중 선정/반려 결정 | P0 |
| 선정 인원 제한 | 모집 인원만큼만 선정 가능 | P0 |
| 선정 결과 알림 | 선정/반려 결과를 인플루언서에게 알림 | P1 |

### 6.5 프로필 관리

| 기능 | 설명 | 우선순위 |
|------|------|---------|
| 인플루언서 정보 등록 | 회원가입 후 인플루언서 프로필 생성 | P0 |
| 광고주 정보 등록 | 회원가입 후 광고주 프로필 생성 | P0 |
| 프로필 수정 | 등록한 정보 수정 | P1 |
| 프로필 조회 | 내 프로필 확인 | P1 |

---

## 7. 비기능 요구사항

### 7.1 성능
- 페이지 로딩 시간: 3초 이내 (First Contentful Paint)
- API 응답 시간: 500ms 이내
- 이미지 최적화: Next.js Image 컴포넌트 활용

### 7.2 보안
- Supabase Auth 기반 인증/인가
- RLS (Row Level Security) 비활성화 (프로젝트 가이드라인에 따름)
- 서버 사이드 검증: Zod 스키마 활용
- XSS, CSRF 방어: Next.js 기본 보안 기능 활용

### 7.3 접근성
- WCAG 2.1 Level AA 준수
- 키보드 네비게이션 지원
- 스크린 리더 호환
- 색상 대비 4.5:1 이상

### 7.4 반응형 디자인
- 모바일 우선 (Mobile First)
- 브레이크포인트: 320px, 768px, 1024px, 1280px
- Tailwind CSS 반응형 유틸리티 활용

### 7.5 브라우저 호환성
- Chrome (최신 2개 버전)
- Safari (최신 2개 버전)
- Firefox (최신 2개 버전)
- Edge (최신 2개 버전)

---

## 8. 데이터베이스 스키마 (개요)

### 8.1 핵심 테이블

| 테이블명 | 설명 | 주요 컬럼 |
|---------|------|---------|
| `users` | Supabase Auth 연동 (참조 전용) | `id`, `email`, `created_at` |
| `advertisers` | 광고주 정보 | `id`, `user_id`, `business_name`, `business_registration_number`, `address`, `phone`, `representative_name` |
| `influencers` | 인플루언서 정보 | `id`, `user_id`, `name`, `birth_date`, `phone`, `channel_name`, `channel_link`, `followers_count` |
| `campaigns` | 체험단 | `id`, `advertiser_id`, `title`, `description`, `recruitment_start_date`, `recruitment_end_date`, `recruitment_count`, `benefits`, `mission`, `status` |
| `applications` | 지원서 | `id`, `campaign_id`, `influencer_id`, `message`, `visit_date`, `status`, `applied_at` |

### 8.2 주요 관계
- `advertisers.user_id` → `auth.users.id` (1:1)
- `influencers.user_id` → `auth.users.id` (1:1)
- `campaigns.advertiser_id` → `advertisers.id` (N:1)
- `applications.campaign_id` → `campaigns.id` (N:1)
- `applications.influencer_id` → `influencers.id` (N:1)

---

## 9. API 엔드포인트 (개요)

### 9.1 Campaign
- `GET /api/campaigns` - 체험단 리스트 조회
- `GET /api/campaigns/:id` - 체험단 상세 조회
- `POST /api/campaigns` - 체험단 등록 (광고주 전용)
- `PATCH /api/campaigns/:id/status` - 모집 상태 변경 (광고주 전용)

### 9.2 Application
- `GET /api/applications` - 내 지원 목록 조회 (인플루언서 전용)
- `POST /api/applications` - 체험단 지원 (인플루언서 전용)
- `GET /api/campaigns/:id/applications` - 신청자 리스트 조회 (광고주 전용)
- `PATCH /api/applications/bulk` - 인플루언서 선정 (광고주 전용)

### 9.3 Profile
- `POST /api/advertisers` - 광고주 정보 등록
- `POST /api/influencers` - 인플루언서 정보 등록
- `GET /api/profile` - 내 프로필 조회

---

## 10. 제약사항 및 가정사항

### 10.1 제약사항
- Supabase RLS는 사용하지 않음 (프로젝트 가이드라인)
- 모든 컴포넌트는 Client Component (`"use client"`) 사용
- 서버 상태는 React Query로만 관리
- 이미지 업로드는 1차 범위에서 제외 (placeholder 이미지 사용)

### 10.2 가정사항
- 사용자는 이메일 인증을 완료했다고 가정 (이메일 인증 플로우 생략)
- 결제 시스템은 별도 구축 (1차 범위 제외)
- 알림 시스템은 추후 추가 (1차 범위 제외)
- 관리자 페이지는 별도 구축 (1차 범위 제외)

---

## 11. 우선순위

### P0 (MVP 필수)
- 회원가입/로그인 (Supabase Auth)
- 광고주/인플루언서 정보 등록
- 체험단 등록 및 리스트 조회
- 체험단 지원
- 신청자 관리 및 선정
- 모집 조기 종료

### P1 (2차 개발)
- 체험단 수정/삭제
- 프로필 수정
- 지원 상태 필터링
- 선정 결과 알림

### P2 (추후 고려)
- 지원 취소
- 이미지 업로드
- 리뷰 관리
- 통계 대시보드
- 알림 센터

---

## 12. 성공 지표

### 12.1 사용자 지표
- 월간 활성 사용자(MAU): 1,000명 (3개월 내)
- 광고주:인플루언서 비율: 1:10
- 사용자 유지율: 60% (30일 기준)

### 12.2 비즈니스 지표
- 체험단 등록 수: 50개/월
- 평균 지원자 수: 5명/체험단
- 선정 완료율: 80%

### 12.3 기술 지표
- 페이지 로딩 시간: 3초 이내
- API 응답 시간: 500ms 이내
- 에러율: 1% 이하

---

## 13. 참고 문서

- `/docs/requirement.md` - 기본 요구사항
- `/docs/external/supabase-auth.md` - Supabase Auth 가이드
- `/docs/external/postgresql.md` - PostgreSQL 스타일 가이드
- `CLAUDE.md` - 프로젝트 개발 가이드라인

---

## 14. 변경 이력

| 날짜 | 버전 | 변경 내용 | 작성자 |
|------|------|---------|--------|
| 2025-11-14 | 1.0 | 초안 작성 | Claude |
